""" Constants used by FEBio """

# number of bytes in a DWORD
SZ_DWORD = 4

# This one is special - first DWORD of file
#
PLT_FEBIO = 0x00464542

# Copied from FEBioPlotFile.h (FEBio source code - plot file import not exposed though)

FEBIO_TAGS = {
    'PLT_FEBIO': PLT_FEBIO,
    #
    'PLT_ROOT': 0x01000000,
    #
    'PLT_HEADER': 0x01010000,
    'PLT_HDR_VERSION': 0x01010001,
    'PLT_HDR_NODES': 0x01010002,
    'PLT_HDR_MAX_FACET_NODES': 0x01010003,
    'PLT_COMPRESSION': 0x01010004,
    #
    'PLT_DICTIONARY': 0x01020000,
    'PLT_DIC_ITEM': 0x01020001,
    'PLT_DIC_ITEM_TYPE': 0x01020002,
    'PLT_DIC_ITEM_FMT': 0x01020003,
    'PLT_DIC_ITEM_NAME': 0x01020004,
    'PLT_DIC_GLOBAL': 0x01021000,
    'PLT_DIC_MATERIAL': 0x01022000,
    'PLT_DIC_NODAL': 0x01023000,
    'PLT_DIC_DOMAIN': 0x01024000,
    'PLT_DIC_SURFACE': 0x01025000,
    #
    'PLT_MATERIALS': 0x01030000,
    'PLT_MATERIAL': 0x01030001,
    'PLT_MAT_ID': 0x01030002,
    'PLT_MAT_NAME': 0x01030003,
    #
    'PLT_GEOMETRY': 0x01040000,
    'PLT_NODE_SECTION': 0x01041000,
    'PLT_NODE_COORDS': 0x01041001,
    #
    'PLT_DOMAIN_SECTION': 0x01042000,
    'PLT_DOMAIN': 0x01042100,
    'PLT_DOMAIN_HDR': 0x01042101,
    'PLT_DOM_ELEM_TYPE': 0x01042102,
    'PLT_DOM_MAT_ID': 0x01042103,
    'PLT_DOM_ELEMS': 0x01032104,  # N.B. Out of sequence
    'PLT_DOM_NAME': 0x01032105,  # new in v2.1
    'PLT_DOM_ELEM_LIST': 0x01042200,
    'PLT_ELEMENT': 0x01042201,
    #
    'PLT_SURFACE_SECTION': 0x01043000,
    'PLT_SURFACE': 0x01043100,
    'PLT_SURFACE_HDR': 0x01043101,
    'PLT_SURFACE_ID': 0x01043102,
    'PLT_SURFACE_FACES': 0x01043103,
    'PLT_SURFACE_NAME': 0x01043104,  # new in v2.1
    'PLT_FACE_LIST': 0x01043200,
    'PLT_FACE': 0x01043201,
    #
    'PLT_NODESET_SECTION': 0x01044000,  # new in v2.1
    'PLT_NODESET': 0x01044100,
    'PLT_NODESET_HEADER': 0x01044101,
    'PLT_NODESET_ID': 0x01044102,
    'PLT_NODESET_NAME': 0x01044103,
    'PLT_NODESET_SIZE': 0x01044104,
    'PLT_NODELIST': 0x01044200,
    #
    'PLT_STATE': 0x02000000,
    'PLT_STATE_HEADER': 0x02010000,
    'PLT_STATE_HDR_ID': 0x02010001,
    'PLT_STATE_HDR_TIME': 0x02010002,
    #
    'PLT_STATE_DATA': 0x02020000,
    'PLT_STATE_VARIABLE': 0x02020001,
    'PLT_STATE_VAR_ID': 0x02020002,
    'PLT_STATE_VAR_DATA': 0x02020003,
    'PLT_GLOBAL_DATA': 0x02020100,
    'PLT_MATERIAL_DATA': 0x02020200,
    'PLT_NODE_DATA': 0x02020300,
    'PLT_ELEMENT_DATA': 0x02020400,
    'PLT_FACE_DATA': 0x02020500
}

# Create dictionary of 'numbers -> strings'
TAGS = dict( )
for key, value in FEBIO_TAGS.items( ):
    TAGS[ value ] = key

# Create mapping for dictionary section -> state section (e.g. PLT_DIC_NODAL -> PLT_NODE_DATA)
FEBIO_DICT_STATE_MAP = {
    FEBIO_TAGS[ 'PLT_DIC_GLOBAL' ]: FEBIO_TAGS[ 'PLT_GLOBAL_DATA' ],
    FEBIO_TAGS[ 'PLT_DIC_MATERIAL' ]: FEBIO_TAGS[ 'PLT_MATERIAL_DATA' ],
    FEBIO_TAGS[ 'PLT_DIC_NODAL' ]: FEBIO_TAGS[ 'PLT_NODE_DATA' ],
    FEBIO_TAGS[ 'PLT_DIC_DOMAIN' ]: FEBIO_TAGS[ 'PLT_ELEMENT_DATA' ],
    FEBIO_TAGS[ 'PLT_DIC_SURFACE' ]: FEBIO_TAGS[ 'PLT_FACE_DATA' ]
}

FEBIO_STATE_DATA_IDS = [
    FEBIO_TAGS[ 'PLT_GLOBAL_DATA' ],
    FEBIO_TAGS[ 'PLT_MATERIAL_DATA' ],
    FEBIO_TAGS[ 'PLT_NODE_DATA' ],
    FEBIO_TAGS[ 'PLT_ELEMENT_DATA' ],
    FEBIO_TAGS[ 'PLT_FACE_DATA' ] ]

FEBIO_TAGS_WITH_DATA = [
    FEBIO_TAGS[ 'PLT_HDR_VERSION' ],
    FEBIO_TAGS[ 'PLT_HDR_NODES' ],
    FEBIO_TAGS[ 'PLT_HDR_MAX_FACET_NODES' ],
    FEBIO_TAGS[ 'PLT_COMPRESSION' ],
    FEBIO_TAGS[ 'PLT_DIC_ITEM_TYPE' ],
    FEBIO_TAGS[ 'PLT_DIC_ITEM_FMT' ],
    FEBIO_TAGS[ 'PLT_DIC_ITEM_NAME' ],
    FEBIO_TAGS[ 'PLT_MAT_ID' ],
    FEBIO_TAGS[ 'PLT_MAT_NAME' ],
    FEBIO_TAGS[ 'PLT_NODE_COORDS' ],
    FEBIO_TAGS[ 'PLT_DOM_ELEM_TYPE' ],
    FEBIO_TAGS[ 'PLT_DOM_MAT_ID' ],
    FEBIO_TAGS[ 'PLT_DOM_ELEMS' ],
    FEBIO_TAGS[ 'PLT_DOM_NAME' ],  # new in v2.1
    FEBIO_TAGS[ 'PLT_ELEMENT' ],
    FEBIO_TAGS[ 'PLT_SURFACE_ID' ],
    FEBIO_TAGS[ 'PLT_SURFACE_FACES' ],
    FEBIO_TAGS[ 'PLT_SURFACE_NAME' ],  # new in v2.1
    FEBIO_TAGS[ 'PLT_FACE' ],
    FEBIO_TAGS[ 'PLT_NODESET_ID' ],
    FEBIO_TAGS[ 'PLT_NODESET_NAME' ],
    FEBIO_TAGS[ 'PLT_NODESET_SIZE' ],
    FEBIO_TAGS[ 'PLT_NODELIST' ],
    FEBIO_TAGS[ 'PLT_STATE_HDR_TIME' ],
    FEBIO_TAGS[ 'PLT_STATE_VAR_ID' ],
    FEBIO_TAGS[ 'PLT_STATE_VAR_DATA' ] ]
